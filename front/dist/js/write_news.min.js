function News(){}News.prototype.listenUploadFileEvent=function(){var n=$("#thumbnail-btn");n.change(function(){var t=n[0].files[0],e=new FormData;e.append("file",t),sdbuajax.post({url:"/cms/upload_file/",data:e,processData:!1,contentType:!1,success:function(t){var e;200===t.code&&(e=t.data.url,$("#InputImage").val(e))}})})},News.prototype.initUEditor=function(){window.ue=UE.getEditor("editor",{initialFrameHeight:400,serverUrl:"/ueditor/upload/"})},News.prototype.listenSubmitEvent=function(){$("#submit-btn").click(function(t){t.preventDefault();var e=$("input[name='title']").val(),n=$("select[name='category']").val(),i=$("input[name='desc']").val(),a=$("input[name='thumbnail']").val(),o=window.ue.getContent();sdbuajax.post({url:"/cms/write_news/",data:{title:e,category:n,desc:i,thumbnail:a,content:o},success:function(t){200===t.code&&sdbualert.alertSuccess("恭喜，新闻发表成功！",function(){window.location.reload()})}})})},News.prototype.run=function(){var t=this;t.initUEditor(),t.listenUploadFileEvent(),t.listenSubmitEvent()},$(function(){(new News).run()});