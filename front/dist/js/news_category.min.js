function NewsCategory(){}NewsCategory.prototype.run=function(){var t=this;t.listenAddCategoryEvent(),t.listenEditNewsCategoryEvent(),t.listenDeleteNewsCategoryEvent()},NewsCategory.prototype.listenAddCategoryEvent=function(){$("#add-category").click(function(){sdbualert.alertOneInput({title:"添加新闻分类",placeholder:"请输入新闻分类",confirmCallback:function(t){sdbuajax.post({url:"/cms/add_news_category/",data:{name:t},success:function(t){200===t.code?(console.log(t),window.location.reload()):(sdbualert.close(),window.messageBox.showError(t.message))}})}})})},NewsCategory.prototype.listenEditNewsCategoryEvent=function(){$(".edit-new-category").click(function(){var t=$(this).parent().parent(),e=t.attr("data-pk"),a=t.attr("data-name");sdbualert.alertOneInput({title:"修改分类名称",placeholder:"请输入新的分类名称",value:a,confirmCallback:function(t){sdbuajax.post({url:"/cms/edit_news_category/",data:{pk:e,name:t},success:function(t){200===t.code&&window.location.reload()}})}})})},NewsCategory.prototype.listenDeleteNewsCategoryEvent=function(){$(".delete-new-category").click(function(){var t=$(this).parent().parent(),e=t.attr("data-pk"),a=t.attr("data-name");sdbualert.alertConfirm({title:"确定要删除这个新闻分类吗？",text:a,confirmCallback:function(){sdbuajax.post({url:"/cms/delete_news_category/",data:{pk:e},success:function(t){200===t.code&&window.location.reload()}})}})})},$(function(){(new NewsCategory).run()});