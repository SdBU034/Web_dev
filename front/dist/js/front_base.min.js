function FrontBase(){}function Auth(){this.maskWrapper=$(".mask-wrapper"),this.scrollWrapper=$(".scroll-wrapper")}FrontBase.prototype.run=function(){this.listenAuthBox()},FrontBase.prototype.listenAuthBox=function(){var t=$(".auth-box"),n=$(".user-more-box");t.hover(function(){n.show()},function(){n.hide()})},Auth.prototype.run=function(){var t=this;t.listenShowHideEvent(),t.listenSwitchEvent(),t.listenLoginEvent(),t.listenImgCaptcha(),t.listenRegisterEvent()},Auth.prototype.showEvent=function(){this.maskWrapper.show()},Auth.prototype.hideEvent=function(){this.maskWrapper.hide()},Auth.prototype.listenShowHideEvent=function(){var t=this,n=$(".auth-box"),e=$(".close-btn");n.click(function(){t.showEvent()}),e.click(function(){t.hideEvent()})},Auth.prototype.listenSwitchEvent=function(){var n=this;$(".switch").click(function(){var t=n.scrollWrapper.css("left");(t=parseInt(t))<0?n.scrollWrapper.animate({left:"0"}):n.scrollWrapper.animate({left:"-400px"})})},Auth.prototype.listenImgCaptcha=function(){var t=$(".img-captcha");t.click(function(){t.attr("src","/account/img_captcha/?random="+Math.random())})},Auth.prototype.listenLoginEvent=function(){var i=this,t=$(".login"),o=t.find('input[name="telephone"]'),a=t.find('input[name="password"]'),r=t.find('input[name="remember"]');t.find(".submit-btn").click(function(){var t=o.val(),n=a.val(),e=r.prop("checked");sdbuajax.post({url:"/account/login/",data:{telephone:t,password:n,remember:e?1:0},success:function(t){i.hideEvent(),window.location.reload()}})})},Auth.prototype.listenRegisterEvent=function(){var h=this,l=$(".register");l.find(".submit-btn").click(function(t){t.preventDefault();var n=l.find('input[name="telephone"]'),e=l.find('input[name="username"]'),i=l.find('input[name="img_captcha"]'),o=l.find('input[name="pwd1"]'),a=l.find('input[name="pwd2"]'),r=n.val(),c=e.val(),p=i.val(),s=o.val(),u=a.val();sdbuajax.post({url:"/account/register/",data:{telephone:r,username:c,pwd1:s,pwd2:u,img_captcha:p},success:function(){h.hideEvent(),window.location.reload()}})})},$(function(){(new Auth).run()}),$(function(){(new FrontBase).run()});